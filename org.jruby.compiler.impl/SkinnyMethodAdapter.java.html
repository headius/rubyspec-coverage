<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../.resources/report.css" type="text/css"/><link rel="shortcut icon" href="../.resources/report.gif" type="image/gif"/><title>SkinnyMethodAdapter.java</title><link rel="stylesheet" href="../.resources/prettify.css" type="text/css"/><script type="text/javascript" src="../.resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../.sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">rubyspec coverage</a> &gt; <a href="index.source.html" class="el_package">org.jruby.compiler.impl</a> &gt; <span class="el_source">SkinnyMethodAdapter.java</span></div><h1>SkinnyMethodAdapter.java</h1><pre class="source lang-java linenums">/*
 * SkinnyMethodAdapter.java
 *
 * Created on March 10, 2007, 2:52 AM
 *
 * To change this template, choose Tools | Template Manager
 * and open the template in the editor.
 */

package org.jruby.compiler.impl;

import java.io.PrintStream;
import java.io.PrintWriter;
import java.util.Map;
import java.util.concurrent.Callable;

import org.jruby.util.SafePropertyAccessor;
import org.jruby.util.cli.Options;
import static org.jruby.util.CodegenUtils.*;

import org.objectweb.asm.AnnotationVisitor;
import org.objectweb.asm.Attribute;
import org.objectweb.asm.ClassReader;
import org.objectweb.asm.ClassVisitor;
import org.objectweb.asm.ClassWriter;
import org.objectweb.asm.Handle;
import org.objectweb.asm.Label;
import org.objectweb.asm.MethodVisitor;
import org.objectweb.asm.Opcodes;
import org.objectweb.asm.Type;
import org.objectweb.asm.util.Printer;
import org.objectweb.asm.util.Textifier;
import org.objectweb.asm.util.TraceMethodVisitor;

/**
 *
 * @author headius
 */
public class SkinnyMethodAdapter extends MethodVisitor implements Opcodes {
<span class="fc" id="L40">    private final static boolean DEBUG = Options.COMPILE_DUMP.load();</span>
    private MethodVisitor method;
    private Printer printer;
    private String name;
    private ClassVisitor cv;
    private Label start;
    private Label end;

    public SkinnyMethodAdapter(ClassVisitor cv, int flags, String name, String signature, String something, String[] exceptions) {
<span class="fc" id="L49">        super(ASM4);</span>
<span class="fc" id="L50">        setMethodVisitor(cv.visitMethod(flags, name, signature, something, exceptions));</span>
<span class="fc" id="L51">        this.cv = cv;</span>
<span class="fc" id="L52">        this.name = name;</span>
<span class="fc" id="L53">        this.start = new Label();</span>
<span class="fc" id="L54">        this.end = new Label();</span>
<span class="fc" id="L55">    }</span>

    public ClassVisitor getClassVisitor() {
<span class="fc" id="L58">        return cv;</span>
    }
    
    public MethodVisitor getMethodVisitor() {
<span class="fc" id="L62">        return method;</span>
    }
    
    public void setMethodVisitor(MethodVisitor mv) {
<span class="pc bpc" id="L66" title="1 of 2 branches missed.">        if (DEBUG) {</span>
<span class="nc" id="L67">            this.printer = new Textifier();</span>
<span class="nc" id="L68">            this.method = new TraceMethodVisitor(mv, printer);</span>
        } else {
<span class="fc" id="L70">            this.method = mv;</span>
        }
<span class="fc" id="L72">    }</span>

    /**
     * Short-hand for specifying a set of aloads
     *
     * @param args list of aloads you want
     */
    public void aloadMany(int... args) {
<span class="nc bnc" id="L80" title="All 2 branches missed.">        for (int arg: args) {</span>
<span class="nc" id="L81">            aload(arg);</span>
        }
<span class="nc" id="L83">    }</span>
    
    public void aload(int arg0) {
<span class="fc" id="L86">        getMethodVisitor().visitVarInsn(ALOAD, arg0);</span>
<span class="fc" id="L87">    }</span>
    
    public void iload(int arg0) {
<span class="fc" id="L90">        getMethodVisitor().visitVarInsn(ILOAD, arg0);</span>
<span class="fc" id="L91">    }</span>
    
    public void lload(int arg0) {
<span class="nc" id="L94">        getMethodVisitor().visitVarInsn(LLOAD, arg0);</span>
<span class="nc" id="L95">    }</span>
    
    public void fload(int arg0) {
<span class="nc" id="L98">        getMethodVisitor().visitVarInsn(FLOAD, arg0);</span>
<span class="nc" id="L99">    }</span>
    
    public void dload(int arg0) {
<span class="nc" id="L102">        getMethodVisitor().visitVarInsn(DLOAD, arg0);</span>
<span class="nc" id="L103">    }</span>
    
    public void astore(int arg0) {
<span class="fc" id="L106">        getMethodVisitor().visitVarInsn(ASTORE, arg0);</span>
<span class="fc" id="L107">    }</span>
    
    public void istore(int arg0) {
<span class="nc" id="L110">        getMethodVisitor().visitVarInsn(ISTORE, arg0);</span>
<span class="nc" id="L111">    }</span>
    
    public void lstore(int arg0) {
<span class="nc" id="L114">        getMethodVisitor().visitVarInsn(LSTORE, arg0);</span>
<span class="nc" id="L115">    }</span>
    
    public void fstore(int arg0) {
<span class="nc" id="L118">        getMethodVisitor().visitVarInsn(FSTORE, arg0);</span>
<span class="nc" id="L119">    }</span>
    
    public void dstore(int arg0) {
<span class="nc" id="L122">        getMethodVisitor().visitVarInsn(DSTORE, arg0);</span>
<span class="nc" id="L123">    }</span>
    
    public void ldc(Object arg0) {
<span class="fc" id="L126">        getMethodVisitor().visitLdcInsn(arg0);</span>
<span class="fc" id="L127">    }</span>
    
    public void bipush(int arg) {
<span class="fc" id="L130">        getMethodVisitor().visitIntInsn(BIPUSH, arg);</span>
<span class="fc" id="L131">    }</span>
    
    public void sipush(int arg) {
<span class="fc" id="L134">        getMethodVisitor().visitIntInsn(SIPUSH, arg);</span>
<span class="fc" id="L135">    }</span>
        
    public void pushInt(int value) {
<span class="pc bpc" id="L138" title="1 of 4 branches missed.">        if (value &lt;= Byte.MAX_VALUE &amp;&amp; value &gt;= Byte.MIN_VALUE) {</span>
<span class="fc bfc" id="L139" title="All 8 branches covered.">            switch (value) {</span>
            case -1:
<span class="fc" id="L141">                iconst_m1();</span>
<span class="fc" id="L142">                break;</span>
            case 0:
<span class="fc" id="L144">                iconst_0();</span>
<span class="fc" id="L145">                break;</span>
            case 1:
<span class="fc" id="L147">                iconst_1();</span>
<span class="fc" id="L148">                break;</span>
            case 2:
<span class="fc" id="L150">                iconst_2();</span>
<span class="fc" id="L151">                break;</span>
            case 3:
<span class="fc" id="L153">                iconst_3();</span>
<span class="fc" id="L154">                break;</span>
            case 4:
<span class="fc" id="L156">                iconst_4();</span>
<span class="fc" id="L157">                break;</span>
            case 5:
<span class="fc" id="L159">                iconst_5();</span>
<span class="fc" id="L160">                break;</span>
            default:
<span class="fc" id="L162">                bipush(value);</span>
<span class="fc" id="L163">                break;</span>
            }
<span class="pc bpc" id="L165" title="2 of 4 branches missed.">        } else if (value &lt;= Short.MAX_VALUE &amp;&amp; value &gt;= Short.MIN_VALUE) {</span>
<span class="fc" id="L166">            sipush(value);</span>
        } else {
<span class="nc" id="L168">            ldc(value);</span>
        }
<span class="fc" id="L170">    }</span>
        
    public void pushBoolean(boolean bool) {
<span class="nc bnc" id="L173" title="All 2 branches missed.">        if (bool) iconst_1(); else iconst_0();</span>
<span class="nc" id="L174">    }</span>
    
    public void invokestatic(String arg1, String arg2, String arg3) {
<span class="fc" id="L177">        getMethodVisitor().visitMethodInsn(INVOKESTATIC, arg1, arg2, arg3);</span>
<span class="fc" id="L178">    }</span>
    
    public void invokespecial(String arg1, String arg2, String arg3) {
<span class="fc" id="L181">        getMethodVisitor().visitMethodInsn(INVOKESPECIAL, arg1, arg2, arg3);</span>
<span class="fc" id="L182">    }</span>
    
    public void invokevirtual(String arg1, String arg2, String arg3) {
<span class="fc" id="L185">        getMethodVisitor().visitMethodInsn(INVOKEVIRTUAL, arg1, arg2, arg3);</span>
<span class="fc" id="L186">    }</span>
    
    public void invokeinterface(String arg1, String arg2, String arg3) {
<span class="fc" id="L189">        getMethodVisitor().visitMethodInsn(INVOKEINTERFACE, arg1, arg2, arg3);</span>
<span class="fc" id="L190">    }</span>

    public void invokedynamic(String arg0, String arg1, Handle arg2, Object... arg3) {
<span class="nc" id="L193">        getMethodVisitor().visitInvokeDynamicInsn(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L194">    }</span>
    
    public void aprintln() {
<span class="nc" id="L197">        dup();</span>
<span class="nc" id="L198">        getstatic(p(System.class), &quot;out&quot;, ci(PrintStream.class));</span>
<span class="nc" id="L199">        swap();</span>
<span class="nc" id="L200">        invokevirtual(p(PrintStream.class), &quot;println&quot;, sig(void.class, params(Object.class)));</span>
<span class="nc" id="L201">    }</span>

    public void iprintln() {
<span class="nc" id="L204">        dup();</span>
<span class="nc" id="L205">        getstatic(p(System.class), &quot;out&quot;, ci(PrintStream.class));</span>
<span class="nc" id="L206">        swap();</span>
<span class="nc" id="L207">        invokevirtual(p(PrintStream.class), &quot;println&quot;, sig(void.class, params(int.class)));</span>
<span class="nc" id="L208">    }</span>
    
    public void areturn() {
<span class="fc" id="L211">        getMethodVisitor().visitInsn(ARETURN);</span>
<span class="fc" id="L212">    }</span>
    
    public void ireturn() {
<span class="nc" id="L215">        getMethodVisitor().visitInsn(IRETURN);</span>
<span class="nc" id="L216">    }</span>
    
    public void freturn() {
<span class="nc" id="L219">        getMethodVisitor().visitInsn(FRETURN);</span>
<span class="nc" id="L220">    }</span>
    
    public void lreturn() {
<span class="nc" id="L223">        getMethodVisitor().visitInsn(LRETURN);</span>
<span class="nc" id="L224">    }</span>
    
    public void dreturn() {
<span class="nc" id="L227">        getMethodVisitor().visitInsn(DRETURN);</span>
<span class="nc" id="L228">    }</span>
    
    public void newobj(String arg0) {
<span class="fc" id="L231">        getMethodVisitor().visitTypeInsn(NEW, arg0);</span>
<span class="fc" id="L232">    }</span>
    
    public void dup() {
<span class="fc" id="L235">        getMethodVisitor().visitInsn(DUP);</span>
<span class="fc" id="L236">    }</span>
    
    public void swap() {
<span class="nc" id="L239">        getMethodVisitor().visitInsn(SWAP);</span>
<span class="nc" id="L240">    }</span>
    
    public void swap2() {
<span class="nc" id="L243">        dup2_x2();</span>
<span class="nc" id="L244">        pop2();</span>
<span class="nc" id="L245">    }</span>
    
    public void getstatic(String arg1, String arg2, String arg3) {
<span class="fc" id="L248">        getMethodVisitor().visitFieldInsn(GETSTATIC, arg1, arg2, arg3);</span>
<span class="fc" id="L249">    }</span>
    
    public void putstatic(String arg1, String arg2, String arg3) {
<span class="fc" id="L252">        getMethodVisitor().visitFieldInsn(PUTSTATIC, arg1, arg2, arg3);</span>
<span class="fc" id="L253">    }</span>
    
    public void getfield(String arg1, String arg2, String arg3) {
<span class="fc" id="L256">        getMethodVisitor().visitFieldInsn(GETFIELD, arg1, arg2, arg3);</span>
<span class="fc" id="L257">    }</span>
    
    public void putfield(String arg1, String arg2, String arg3) {
<span class="nc" id="L260">        getMethodVisitor().visitFieldInsn(PUTFIELD, arg1, arg2, arg3);</span>
<span class="nc" id="L261">    }</span>
    
    public void voidreturn() {
<span class="nc" id="L264">        getMethodVisitor().visitInsn(RETURN);</span>
<span class="nc" id="L265">    }</span>
    
    public void anewarray(String arg0) {
<span class="nc" id="L268">        getMethodVisitor().visitTypeInsn(ANEWARRAY, arg0);</span>
<span class="nc" id="L269">    }</span>
    
    public void multianewarray(String arg0, int dims) {
<span class="nc" id="L272">        getMethodVisitor().visitMultiANewArrayInsn(arg0, dims);</span>
<span class="nc" id="L273">    }</span>
    
    public void newarray(int arg0) {
<span class="nc" id="L276">        getMethodVisitor().visitIntInsn(NEWARRAY, arg0);</span>
<span class="nc" id="L277">    }</span>
    
    public void iconst_m1() {
<span class="fc" id="L280">        getMethodVisitor().visitInsn(ICONST_M1);</span>
<span class="fc" id="L281">    }</span>
    
    public void iconst_0() {
<span class="fc" id="L284">        getMethodVisitor().visitInsn(ICONST_0);</span>
<span class="fc" id="L285">    }</span>
    
    public void iconst_1() {
<span class="fc" id="L288">        getMethodVisitor().visitInsn(ICONST_1);</span>
<span class="fc" id="L289">    }</span>
    
    public void iconst_2() {
<span class="fc" id="L292">        getMethodVisitor().visitInsn(ICONST_2);</span>
<span class="fc" id="L293">    }</span>
    
    public void iconst_3() {
<span class="fc" id="L296">        getMethodVisitor().visitInsn(ICONST_3);</span>
<span class="fc" id="L297">    }</span>
    
    public void iconst_4() {
<span class="fc" id="L300">        getMethodVisitor().visitInsn(ICONST_4);</span>
<span class="fc" id="L301">    }</span>
    
    public void iconst_5() {
<span class="fc" id="L304">        getMethodVisitor().visitInsn(ICONST_5);</span>
<span class="fc" id="L305">    }</span>
    
    public void lconst_0() {
<span class="nc" id="L308">        getMethodVisitor().visitInsn(LCONST_0);</span>
<span class="nc" id="L309">    }</span>
    
    public void aconst_null() {
<span class="fc" id="L312">        getMethodVisitor().visitInsn(ACONST_NULL);</span>
<span class="fc" id="L313">    }</span>
    
    public void label(Label label) {
<span class="fc" id="L316">        getMethodVisitor().visitLabel(label);</span>
<span class="fc" id="L317">    }</span>
    
    public void nop() {
<span class="fc" id="L320">        getMethodVisitor().visitInsn(NOP);</span>
<span class="fc" id="L321">    }</span>
    
    public void pop() {
<span class="fc" id="L324">        getMethodVisitor().visitInsn(POP);</span>
<span class="fc" id="L325">    }</span>
    
    public void pop2() {
<span class="nc" id="L328">        getMethodVisitor().visitInsn(POP2);</span>
<span class="nc" id="L329">    }</span>
    
    public void arrayload() {
<span class="nc" id="L332">        getMethodVisitor().visitInsn(AALOAD);</span>
<span class="nc" id="L333">    }</span>
    
    public void arraystore() {
<span class="nc" id="L336">        getMethodVisitor().visitInsn(AASTORE);</span>
<span class="nc" id="L337">    }</span>
    
    public void iarrayload() {
<span class="nc" id="L340">        getMethodVisitor().visitInsn(IALOAD);</span>
<span class="nc" id="L341">    }</span>
    
    public void barrayload() {
<span class="nc" id="L344">        getMethodVisitor().visitInsn(BALOAD);</span>
<span class="nc" id="L345">    }</span>
    
    public void barraystore() {
<span class="nc" id="L348">        getMethodVisitor().visitInsn(BASTORE);</span>
<span class="nc" id="L349">    }</span>
    
    public void aaload() {
<span class="fc" id="L352">        getMethodVisitor().visitInsn(AALOAD);</span>
<span class="fc" id="L353">    }</span>
    
    public void aastore() {
<span class="nc" id="L356">        getMethodVisitor().visitInsn(AASTORE);</span>
<span class="nc" id="L357">    }</span>
    
    public void iaload() {
<span class="nc" id="L360">        getMethodVisitor().visitInsn(IALOAD);</span>
<span class="nc" id="L361">    }</span>
    
    public void iastore() {
<span class="nc" id="L364">        getMethodVisitor().visitInsn(IASTORE);</span>
<span class="nc" id="L365">    }</span>
    
    public void laload() {
<span class="nc" id="L368">        getMethodVisitor().visitInsn(LALOAD);</span>
<span class="nc" id="L369">    }</span>
    
    public void lastore() {
<span class="nc" id="L372">        getMethodVisitor().visitInsn(LASTORE);</span>
<span class="nc" id="L373">    }</span>
    
    public void baload() {
<span class="nc" id="L376">        getMethodVisitor().visitInsn(BALOAD);</span>
<span class="nc" id="L377">    }</span>
    
    public void bastore() {
<span class="nc" id="L380">        getMethodVisitor().visitInsn(BASTORE);</span>
<span class="nc" id="L381">    }</span>
    
    public void saload() {
<span class="nc" id="L384">        getMethodVisitor().visitInsn(SALOAD);</span>
<span class="nc" id="L385">    }</span>
    
    public void sastore() {
<span class="nc" id="L388">        getMethodVisitor().visitInsn(SASTORE);</span>
<span class="nc" id="L389">    }</span>
    
    public void caload() {
<span class="nc" id="L392">        getMethodVisitor().visitInsn(CALOAD);</span>
<span class="nc" id="L393">    }</span>
    
    public void castore() {
<span class="nc" id="L396">        getMethodVisitor().visitInsn(CASTORE);</span>
<span class="nc" id="L397">    }</span>
    
    public void faload() {
<span class="nc" id="L400">        getMethodVisitor().visitInsn(FALOAD);</span>
<span class="nc" id="L401">    }</span>
    
    public void fastore() {
<span class="nc" id="L404">        getMethodVisitor().visitInsn(FASTORE);</span>
<span class="nc" id="L405">    }</span>
    
    public void daload() {
<span class="nc" id="L408">        getMethodVisitor().visitInsn(DALOAD);</span>
<span class="nc" id="L409">    }</span>
    
    public void dastore() {
<span class="nc" id="L412">        getMethodVisitor().visitInsn(DASTORE);</span>
<span class="nc" id="L413">    }</span>
    
    public void fcmpl() {
<span class="nc" id="L416">        getMethodVisitor().visitInsn(FCMPL);</span>
<span class="nc" id="L417">    }</span>
    
    public void fcmpg() {
<span class="nc" id="L420">        getMethodVisitor().visitInsn(FCMPG);</span>
<span class="nc" id="L421">    }</span>
    
    public void dcmpl() {
<span class="nc" id="L424">        getMethodVisitor().visitInsn(DCMPL);</span>
<span class="nc" id="L425">    }</span>
    
    public void dcmpg() {
<span class="nc" id="L428">        getMethodVisitor().visitInsn(DCMPG);</span>
<span class="nc" id="L429">    }</span>
    
    public void dup_x2() {
<span class="nc" id="L432">        getMethodVisitor().visitInsn(DUP_X2);</span>
<span class="nc" id="L433">    }</span>
    
    public void dup_x1() {
<span class="nc" id="L436">        getMethodVisitor().visitInsn(DUP_X1);</span>
<span class="nc" id="L437">    }</span>
    
    public void dup2_x2() {
<span class="nc" id="L440">        getMethodVisitor().visitInsn(DUP2_X2);</span>
<span class="nc" id="L441">    }</span>
    
    public void dup2_x1() {
<span class="nc" id="L444">        getMethodVisitor().visitInsn(DUP2_X1);</span>
<span class="nc" id="L445">    }</span>
    
    public void dup2() {
<span class="nc" id="L448">        getMethodVisitor().visitInsn(DUP2);</span>
<span class="nc" id="L449">    }</span>
    
    public void trycatch(Label arg0, Label arg1, Label arg2,
                                   String arg3) {
<span class="fc" id="L453">        getMethodVisitor().visitTryCatchBlock(arg0, arg1, arg2, arg3);</span>
<span class="fc" id="L454">    }</span>
    
    public void trycatch(String type, Runnable body, Runnable catchBody) {
<span class="nc" id="L457">        Label before = new Label();</span>
<span class="nc" id="L458">        Label after = new Label();</span>
<span class="nc" id="L459">        Label catchStart = new Label();</span>
<span class="nc" id="L460">        Label done = new Label();</span>

<span class="nc" id="L462">        trycatch(before, after, catchStart, type);</span>
<span class="nc" id="L463">        label(before);</span>
<span class="nc" id="L464">        body.run();</span>
<span class="nc" id="L465">        label(after);</span>
<span class="nc" id="L466">        go_to(done);</span>
<span class="nc bnc" id="L467" title="All 2 branches missed.">        if (catchBody != null) {</span>
<span class="nc" id="L468">            label(catchStart);</span>
<span class="nc" id="L469">            catchBody.run();</span>
        }
<span class="nc" id="L471">        label(done);</span>
<span class="nc" id="L472">    }</span>
    
    public void go_to(Label arg0) {
<span class="fc" id="L475">        getMethodVisitor().visitJumpInsn(GOTO, arg0);</span>
<span class="fc" id="L476">    }</span>
    
    public void lookupswitch(Label arg0, int[] arg1, Label[] arg2) {
<span class="nc" id="L479">        getMethodVisitor().visitLookupSwitchInsn(arg0, arg1, arg2);</span>
<span class="nc" id="L480">    }</span>
    
    public void athrow() {
<span class="fc" id="L483">        getMethodVisitor().visitInsn(ATHROW);</span>
<span class="fc" id="L484">    }</span>
    
    public void instance_of(String arg0) {
<span class="fc" id="L487">        getMethodVisitor().visitTypeInsn(INSTANCEOF, arg0);</span>
<span class="fc" id="L488">    }</span>
    
    public void ifeq(Label arg0) {
<span class="fc" id="L491">        getMethodVisitor().visitJumpInsn(IFEQ, arg0);</span>
<span class="fc" id="L492">    }</span>

    public void iffalse(Label arg0) {
<span class="fc" id="L495">        ifeq(arg0);</span>
<span class="fc" id="L496">    }</span>
    
    public void ifne(Label arg0) {
<span class="fc" id="L499">        getMethodVisitor().visitJumpInsn(IFNE, arg0);</span>
<span class="fc" id="L500">    }</span>

    public void iftrue(Label arg0) {
<span class="fc" id="L503">        ifne(arg0);</span>
<span class="fc" id="L504">    }</span>
    
    public void if_acmpne(Label arg0) {
<span class="nc" id="L507">        getMethodVisitor().visitJumpInsn(IF_ACMPNE, arg0);</span>
<span class="nc" id="L508">    }</span>
    
    public void if_acmpeq(Label arg0) {
<span class="nc" id="L511">        getMethodVisitor().visitJumpInsn(IF_ACMPEQ, arg0);</span>
<span class="nc" id="L512">    }</span>
    
    public void if_icmple(Label arg0) {
<span class="nc" id="L515">        getMethodVisitor().visitJumpInsn(IF_ICMPLE, arg0);</span>
<span class="nc" id="L516">    }</span>
    
    public void if_icmpgt(Label arg0) {
<span class="nc" id="L519">        getMethodVisitor().visitJumpInsn(IF_ICMPGT, arg0);</span>
<span class="nc" id="L520">    }</span>
    
    public void if_icmplt(Label arg0) {
<span class="nc" id="L523">        getMethodVisitor().visitJumpInsn(IF_ICMPLT, arg0);</span>
<span class="nc" id="L524">    }</span>
    
    public void if_icmpne(Label arg0) {
<span class="nc" id="L527">        getMethodVisitor().visitJumpInsn(IF_ICMPNE, arg0);</span>
<span class="nc" id="L528">    }</span>
    
    public void if_icmpeq(Label arg0) {
<span class="nc" id="L531">        getMethodVisitor().visitJumpInsn(IF_ICMPEQ, arg0);</span>
<span class="nc" id="L532">    }</span>
    
    public void checkcast(String arg0) {
<span class="fc" id="L535">        getMethodVisitor().visitTypeInsn(CHECKCAST, arg0);</span>
<span class="fc" id="L536">    }</span>
    
    public void start() {
<span class="fc" id="L539">        getMethodVisitor().visitCode();</span>
<span class="fc" id="L540">        getMethodVisitor().visitLabel(start);</span>
<span class="fc" id="L541">    }</span>
    
    public void end() {
<span class="fc" id="L544">        end(new Runnable() {</span>
            public void run() {
<span class="fc" id="L546">            }</span>
        });
<span class="fc" id="L548">    }</span>

    public void end(Runnable locals) {
<span class="pc bpc" id="L551" title="1 of 2 branches missed.">        if (DEBUG) {</span>
<span class="nc" id="L552">            PrintWriter pw = new PrintWriter(System.out);</span>
<span class="nc" id="L553">            String className = &quot;(unknown class)&quot;;</span>
<span class="nc bnc" id="L554" title="All 2 branches missed.">            if (cv instanceof ClassWriter) {</span>
<span class="nc" id="L555">                className = new ClassReader(((ClassWriter)cv).toByteArray()).getClassName();</span>
            }
<span class="nc bnc" id="L557" title="All 2 branches missed.">            if (name != null) {</span>
<span class="nc" id="L558">                pw.write(&quot;*** Dumping &quot; + className + &quot;.&quot; + name + &quot; ***\n&quot;);</span>
            } else {
<span class="nc" id="L560">                pw.write(&quot;*** Dumping ***\n&quot;);</span>
            }
<span class="nc" id="L562">            printer.print(pw);</span>
<span class="nc" id="L563">            pw.flush();</span>
        }
<span class="fc" id="L565">        getMethodVisitor().visitLabel(end);</span>
<span class="fc" id="L566">        locals.run();</span>
<span class="fc" id="L567">        getMethodVisitor().visitMaxs(1, 1);</span>
<span class="fc" id="L568">        getMethodVisitor().visitEnd();</span>
<span class="fc" id="L569">    }</span>

    public void local(int index, String name, Class type) {
<span class="nc" id="L572">        getMethodVisitor().visitLocalVariable(name, ci(type), null, start, end, index);</span>
<span class="nc" id="L573">    }</span>

    public void local(int index, String name, Type type) {
<span class="fc" id="L576">        getMethodVisitor().visitLocalVariable(name, type.getDescriptor(), null, start, end, index);</span>
<span class="fc" id="L577">    }</span>

    public void line(int line) {
<span class="fc" id="L580">        Label label = new Label();</span>
<span class="fc" id="L581">        label(label);</span>
<span class="fc" id="L582">        visitLineNumber(line, label);</span>
<span class="fc" id="L583">    }</span>

    public void line(int line, Label label) {
<span class="nc" id="L586">        visitLineNumber(line, label);</span>
<span class="nc" id="L587">    }</span>
    
    public void ifnonnull(Label arg0) {
<span class="fc" id="L590">        getMethodVisitor().visitJumpInsn(IFNONNULL, arg0);</span>
<span class="fc" id="L591">    }</span>
    
    public void ifnull(Label arg0) {
<span class="nc" id="L594">        getMethodVisitor().visitJumpInsn(IFNULL, arg0);</span>
<span class="nc" id="L595">    }</span>
    
    public void iflt(Label arg0) {
<span class="nc" id="L598">        getMethodVisitor().visitJumpInsn(IFLT, arg0);</span>
<span class="nc" id="L599">    }</span>
    
    public void ifle(Label arg0) {
<span class="nc" id="L602">        getMethodVisitor().visitJumpInsn(IFLE, arg0);</span>
<span class="nc" id="L603">    }</span>
    
    public void ifgt(Label arg0) {
<span class="nc" id="L606">        getMethodVisitor().visitJumpInsn(IFGT, arg0);</span>
<span class="nc" id="L607">    }</span>
    
    public void ifge(Label arg0) {
<span class="nc" id="L610">        getMethodVisitor().visitJumpInsn(IFGE, arg0);</span>
<span class="nc" id="L611">    }</span>
    
    public void arraylength() {
<span class="nc" id="L614">        getMethodVisitor().visitInsn(ARRAYLENGTH);</span>
<span class="nc" id="L615">    }</span>
    
    public void ishr() {
<span class="nc" id="L618">        getMethodVisitor().visitInsn(ISHR);</span>
<span class="nc" id="L619">    }</span>
    
    public void ishl() {
<span class="nc" id="L622">        getMethodVisitor().visitInsn(ISHL);</span>
<span class="nc" id="L623">    }</span>
    
    public void iushr() {
<span class="nc" id="L626">        getMethodVisitor().visitInsn(IUSHR);</span>
<span class="nc" id="L627">    }</span>
    
    public void lshr() {
<span class="nc" id="L630">        getMethodVisitor().visitInsn(LSHR);</span>
<span class="nc" id="L631">    }</span>
    
    public void lshl() {
<span class="nc" id="L634">        getMethodVisitor().visitInsn(LSHL);</span>
<span class="nc" id="L635">    }</span>
    
    public void lushr() {
<span class="nc" id="L638">        getMethodVisitor().visitInsn(LUSHR);</span>
<span class="nc" id="L639">    }</span>
    
    public void lcmp() {
<span class="nc" id="L642">        getMethodVisitor().visitInsn(LCMP);</span>
<span class="nc" id="L643">    }</span>
    
    public void iand() {
<span class="nc" id="L646">        getMethodVisitor().visitInsn(IAND);</span>
<span class="nc" id="L647">    }</span>
    
    public void ior() {
<span class="nc" id="L650">        getMethodVisitor().visitInsn(IOR);</span>
<span class="nc" id="L651">    }</span>
    
    public void ixor() {
<span class="nc" id="L654">        getMethodVisitor().visitInsn(IXOR);</span>
<span class="nc" id="L655">    }</span>
    
    public void land() {
<span class="nc" id="L658">        getMethodVisitor().visitInsn(LAND);</span>
<span class="nc" id="L659">    }</span>
    
    public void lor() {
<span class="nc" id="L662">        getMethodVisitor().visitInsn(LOR);</span>
<span class="nc" id="L663">    }</span>
    
    public void lxor() {
<span class="nc" id="L666">        getMethodVisitor().visitInsn(LXOR);</span>
<span class="nc" id="L667">    }</span>
    
    public void iadd() {
<span class="nc" id="L670">        getMethodVisitor().visitInsn(IADD);</span>
<span class="nc" id="L671">    }</span>
    
    public void ladd() {
<span class="nc" id="L674">        getMethodVisitor().visitInsn(LADD);</span>
<span class="nc" id="L675">    }</span>
    
    public void fadd() {
<span class="nc" id="L678">        getMethodVisitor().visitInsn(FADD);</span>
<span class="nc" id="L679">    }</span>
    
    public void dadd() {
<span class="nc" id="L682">        getMethodVisitor().visitInsn(DADD);</span>
<span class="nc" id="L683">    }</span>
    
    public void isub() {
<span class="nc" id="L686">        getMethodVisitor().visitInsn(ISUB);</span>
<span class="nc" id="L687">    }</span>
    
    public void lsub() {
<span class="nc" id="L690">        getMethodVisitor().visitInsn(LSUB);</span>
<span class="nc" id="L691">    }</span>
    
    public void fsub() {
<span class="nc" id="L694">        getMethodVisitor().visitInsn(FSUB);</span>
<span class="nc" id="L695">    }</span>
    
    public void dsub() {
<span class="nc" id="L698">        getMethodVisitor().visitInsn(DSUB);</span>
<span class="nc" id="L699">    }</span>
    
    public void idiv() {
<span class="nc" id="L702">        getMethodVisitor().visitInsn(IDIV);</span>
<span class="nc" id="L703">    }</span>
    
    public void irem() {
<span class="nc" id="L706">        getMethodVisitor().visitInsn(IREM);</span>
<span class="nc" id="L707">    }</span>
    
    public void ineg() {
<span class="nc" id="L710">        getMethodVisitor().visitInsn(INEG);</span>
<span class="nc" id="L711">    }</span>
    
    public void i2d() {
<span class="nc" id="L714">        getMethodVisitor().visitInsn(I2D);</span>
<span class="nc" id="L715">    }</span>
    
    public void i2l() {
<span class="nc" id="L718">        getMethodVisitor().visitInsn(I2L);</span>
<span class="nc" id="L719">    }</span>
    
    public void i2f() {
<span class="nc" id="L722">        getMethodVisitor().visitInsn(I2F);</span>
<span class="nc" id="L723">    }</span>
    
    public void i2s() {
<span class="nc" id="L726">        getMethodVisitor().visitInsn(I2S);</span>
<span class="nc" id="L727">    }</span>
    
    public void i2c() {
<span class="nc" id="L730">        getMethodVisitor().visitInsn(I2C);</span>
<span class="nc" id="L731">    }</span>
    
    public void i2b() {
<span class="nc" id="L734">        getMethodVisitor().visitInsn(I2B);</span>
<span class="nc" id="L735">    }</span>
    
    public void ldiv() {
<span class="nc" id="L738">        getMethodVisitor().visitInsn(LDIV);</span>
<span class="nc" id="L739">    }</span>
    
    public void lrem() {
<span class="nc" id="L742">        getMethodVisitor().visitInsn(LREM);</span>
<span class="nc" id="L743">    }</span>
    
    public void lneg() {
<span class="nc" id="L746">        getMethodVisitor().visitInsn(LNEG);</span>
<span class="nc" id="L747">    }</span>
    
    public void l2d() {
<span class="nc" id="L750">        getMethodVisitor().visitInsn(L2D);</span>
<span class="nc" id="L751">    }</span>
    
    public void l2i() {
<span class="nc" id="L754">        getMethodVisitor().visitInsn(L2I);</span>
<span class="nc" id="L755">    }</span>
    
    public void l2f() {
<span class="nc" id="L758">        getMethodVisitor().visitInsn(L2F);</span>
<span class="nc" id="L759">    }</span>
    
    public void fdiv() {
<span class="nc" id="L762">        getMethodVisitor().visitInsn(FDIV);</span>
<span class="nc" id="L763">    }</span>
    
    public void frem() {
<span class="nc" id="L766">        getMethodVisitor().visitInsn(FREM);</span>
<span class="nc" id="L767">    }</span>
    
    public void fneg() {
<span class="nc" id="L770">        getMethodVisitor().visitInsn(FNEG);</span>
<span class="nc" id="L771">    }</span>
    
    public void f2d() {
<span class="nc" id="L774">        getMethodVisitor().visitInsn(F2D);</span>
<span class="nc" id="L775">    }</span>
    
    public void f2i() {
<span class="nc" id="L778">        getMethodVisitor().visitInsn(F2D);</span>
<span class="nc" id="L779">    }</span>
    
    public void f2l() {
<span class="nc" id="L782">        getMethodVisitor().visitInsn(F2L);</span>
<span class="nc" id="L783">    }</span>
    
    public void ddiv() {
<span class="nc" id="L786">        getMethodVisitor().visitInsn(DDIV);</span>
<span class="nc" id="L787">    }</span>
    
    public void drem() {
<span class="nc" id="L790">        getMethodVisitor().visitInsn(DREM);</span>
<span class="nc" id="L791">    }</span>
    
    public void dneg() {
<span class="nc" id="L794">        getMethodVisitor().visitInsn(DNEG);</span>
<span class="nc" id="L795">    }</span>
    
    public void d2f() {
<span class="nc" id="L798">        getMethodVisitor().visitInsn(D2F);</span>
<span class="nc" id="L799">    }</span>
    
    public void d2i() {
<span class="nc" id="L802">        getMethodVisitor().visitInsn(D2I);</span>
<span class="nc" id="L803">    }</span>
    
    public void d2l() {
<span class="nc" id="L806">        getMethodVisitor().visitInsn(D2L);</span>
<span class="nc" id="L807">    }</span>
    
    public void imul() {
<span class="nc" id="L810">        getMethodVisitor().visitInsn(IMUL);</span>
<span class="nc" id="L811">    }</span>
    
    public void lmul() {
<span class="nc" id="L814">        getMethodVisitor().visitInsn(LMUL);</span>
<span class="nc" id="L815">    }</span>
    
    public void fmul() {
<span class="nc" id="L818">        getMethodVisitor().visitInsn(FMUL);</span>
<span class="nc" id="L819">    }</span>
    
    public void dmul() {
<span class="nc" id="L822">        getMethodVisitor().visitInsn(DMUL);</span>
<span class="nc" id="L823">    }</span>
    
    public void iinc(int arg0, int arg1) {
<span class="nc" id="L826">        getMethodVisitor().visitIincInsn(arg0, arg1);</span>
<span class="nc" id="L827">    }</span>
    
    public void monitorenter() {
<span class="nc" id="L830">        getMethodVisitor().visitInsn(MONITORENTER);</span>
<span class="nc" id="L831">    }</span>
    
    public void monitorexit() {
<span class="nc" id="L834">        getMethodVisitor().visitInsn(MONITOREXIT);</span>
<span class="nc" id="L835">    }</span>
    
    public void jsr(Label branch) {
<span class="nc" id="L838">        getMethodVisitor().visitJumpInsn(JSR, branch);</span>
<span class="nc" id="L839">    }</span>
    
    public void ret(int arg0) {
<span class="nc" id="L842">        getMethodVisitor().visitVarInsn(RET, arg0);</span>
<span class="nc" id="L843">    }</span>
    
    public AnnotationVisitor visitAnnotationDefault() {
<span class="nc" id="L846">        return getMethodVisitor().visitAnnotationDefault();</span>
    }

    public AnnotationVisitor visitAnnotation(String arg0, boolean arg1) {
<span class="nc" id="L850">        return getMethodVisitor().visitAnnotation(arg0, arg1);</span>
    }

    public AnnotationVisitor visitParameterAnnotation(int arg0, String arg1,
                                                      boolean arg2) {
<span class="nc" id="L855">        return getMethodVisitor().visitParameterAnnotation(arg0, arg1, arg2);</span>
    }

    public void visitAnnotationWithFields(String name, boolean visible, Map&lt;String,Object&gt; fields) {
<span class="nc" id="L859">        AnnotationVisitor visitor = visitAnnotation(name, visible);</span>
<span class="nc" id="L860">        visitAnnotationFields(visitor, fields);</span>
<span class="nc" id="L861">        visitor.visitEnd();</span>
<span class="nc" id="L862">    }</span>

    public void visitParameterAnnotationWithFields(int param, String name, boolean visible, Map&lt;String,Object&gt; fields) {
<span class="nc" id="L865">        AnnotationVisitor visitor = visitParameterAnnotation(param, name, visible);</span>
<span class="nc" id="L866">        visitAnnotationFields(visitor, fields);</span>
<span class="nc" id="L867">        visitor.visitEnd();</span>
<span class="nc" id="L868">    }</span>

    @Override
    public void visitAttribute(Attribute arg0) {
<span class="nc" id="L872">        getMethodVisitor().visitAttribute(arg0);</span>
<span class="nc" id="L873">    }</span>

    @Override
    public void visitCode() {
<span class="nc" id="L877">        getMethodVisitor().visitCode();</span>
<span class="nc" id="L878">    }</span>

    @Override
    public void visitInsn(int arg0) {
<span class="nc" id="L882">        getMethodVisitor().visitInsn(arg0);</span>
<span class="nc" id="L883">    }</span>

    @Override
    public void visitIntInsn(int arg0, int arg1) {
<span class="nc" id="L887">        getMethodVisitor().visitIntInsn(arg0, arg1);</span>
<span class="nc" id="L888">    }</span>

    @Override
    public void visitVarInsn(int arg0, int arg1) {
<span class="nc" id="L892">        getMethodVisitor().visitVarInsn(arg0, arg1);</span>
<span class="nc" id="L893">    }</span>

    @Override
    public void visitTypeInsn(int arg0, String arg1) {
<span class="nc" id="L897">        getMethodVisitor().visitTypeInsn(arg0, arg1);</span>
<span class="nc" id="L898">    }</span>

    @Override
    public void visitFieldInsn(int arg0, String arg1, String arg2, String arg3) {
<span class="nc" id="L902">        getMethodVisitor().visitFieldInsn(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L903">    }</span>

    @Override
    public void visitMethodInsn(int arg0, String arg1, String arg2, String arg3) {
<span class="nc" id="L907">        getMethodVisitor().visitMethodInsn(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L908">    }</span>
    
    @Override
    public void visitInvokeDynamicInsn(String arg0, String arg1, Handle arg2, Object... arg3) {
<span class="nc" id="L912">        getMethodVisitor().visitInvokeDynamicInsn(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L913">    }</span>

    @Override
    public void visitJumpInsn(int arg0, Label arg1) {
<span class="nc" id="L917">        getMethodVisitor().visitJumpInsn(arg0, arg1);</span>
<span class="nc" id="L918">    }</span>

    @Override
    public void visitLabel(Label arg0) {
<span class="nc" id="L922">        getMethodVisitor().visitLabel(arg0);</span>
<span class="nc" id="L923">    }</span>

    @Override
    public void visitLdcInsn(Object arg0) {
<span class="nc" id="L927">        getMethodVisitor().visitLdcInsn(arg0);</span>
<span class="nc" id="L928">    }</span>

    @Override
    public void visitIincInsn(int arg0, int arg1) {
<span class="nc" id="L932">        getMethodVisitor().visitIincInsn(arg0, arg1);</span>
<span class="nc" id="L933">    }</span>

    @Override
    public void visitTableSwitchInsn(int arg0, int arg1, Label arg2,
                                     Label... arg3) {
<span class="nc" id="L938">        getMethodVisitor().visitTableSwitchInsn(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L939">    }</span>

    @Override
    public void visitLookupSwitchInsn(Label arg0, int[] arg1, Label[] arg2) {
<span class="nc" id="L943">        getMethodVisitor().visitLookupSwitchInsn(arg0, arg1, arg2);</span>
<span class="nc" id="L944">    }</span>

    @Override
    public void visitMultiANewArrayInsn(String arg0, int arg1) {
<span class="nc" id="L948">        getMethodVisitor().visitMultiANewArrayInsn(arg0, arg1);</span>
<span class="nc" id="L949">    }</span>

    @Override
    public void visitTryCatchBlock(Label arg0, Label arg1, Label arg2,
                                   String arg3) {
<span class="nc" id="L954">        getMethodVisitor().visitTryCatchBlock(arg0, arg1, arg2, arg3);</span>
<span class="nc" id="L955">    }</span>

    @Override
    public void visitLocalVariable(String arg0, String arg1, String arg2,
                                   Label arg3, Label arg4, int arg5) {
<span class="nc" id="L960">        getMethodVisitor().visitLocalVariable(arg0, arg1, arg2, arg3, arg4, arg5);</span>
<span class="nc" id="L961">    }</span>

    @Override
    public void visitLineNumber(int arg0, Label arg1) {
<span class="fc" id="L965">        getMethodVisitor().visitLineNumber(arg0, arg1);</span>
<span class="fc" id="L966">    }</span>

    @Override
    public void visitMaxs(int arg0, int arg1) {
<span class="nc bnc" id="L970" title="All 2 branches missed.">        if (DEBUG) {</span>
<span class="nc" id="L971">            PrintWriter pw = new PrintWriter(System.out);</span>
<span class="nc" id="L972">            pw.write(&quot;*** Dumping ***\n&quot;);</span>
<span class="nc" id="L973">            printer.print(pw);</span>
<span class="nc" id="L974">            pw.flush();</span>
        }
<span class="nc" id="L976">        getMethodVisitor().visitMaxs(arg0, arg1);</span>
<span class="nc" id="L977">    }</span>

    @Override
    public void visitEnd() {
<span class="nc" id="L981">        getMethodVisitor().visitEnd();</span>
<span class="nc" id="L982">    }</span>
    
    public void tableswitch(int min, int max, Label defaultLabel, Label[] cases) {
<span class="nc" id="L985">        getMethodVisitor().visitTableSwitchInsn(min, max, defaultLabel, cases);</span>
<span class="nc" id="L986">    }</span>

    @Override
    public void visitFrame(int arg0, int arg1, Object[] arg2, int arg3, Object[] arg4) {
<span class="nc" id="L990">        getMethodVisitor().visitFrame(arg0, arg1, arg2, arg3, arg4);</span>
<span class="nc" id="L991">    }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.eclemma.org/jacoco">JaCoCo</a> 0.7.3.201501050207</span></div></body></html>